<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="baidu-site-verification" content="QXwvt8DGet" />
    <meta name="baidu_union_verify" content="af3100b3386d2a69938f24b7a1f3f79f" />
    <meta name="description" content="胡飞飞的个人网站" />
    <meta name="keywords" content="Blog Java 胡飞飞 工程师" />
    <meta name="author" content="Holmofy-胡飞飞" />
    <meta name="robots" content="index,follow" />
    <meta name="google" content="index,follow" />
    <meta name="googlebot" content="index,follow" />
    <meta name="theme-color" content="#c5e2ef30">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <script data-ad-client="ca-pub-7111912103882824" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <link rel="icon" sizes="192x192" href="favicon.jpg">
    <link rel="apple-touch-icon" href="favicon.jpg">
    <title>Holmofy-胡飞飞的个人网站</title>
    <link href="//at.alicdn.com/t/font_841402_ozn5phl4av.css" rel="stylesheet">
    <style>
        /* css reset */
        body,
        ul,
        li {
            margin: 0;
            padding: 0;
            user-select: none;
        }

        li {
            list-style: none;
        }

        /* iconfont color */
        .ic-weibo:before {
            color: rgb(250, 0, 0);
        }

        .ic-blog:before {
            color: rgb(250, 65, 82);
        }

        .ic-csdn:before {
            color: rgb(230, 0, 2);
        }

        .ic-douban:before {
            color: rgb(8, 147, 67);
        }

        .ic-zhihu:before {
            color: #1E67F6;
        }

        .ic-github:before {
            color: rgb(3, 4, 16);
        }

        .ic-qq:before {
            color: rgb(71, 148, 253);
        }

        .ic-qzone:before {
            color: rgb(254, 190, 32);
        }

        .ic-wechat:before {
            color: rgb(2, 215, 55);
        }

        .ic-resume:before {
            color: #CC8C8C;
        }

        .ic-favorites:before {
            color: #CC8C8C;
        }

        /* animation */
        .shake {
            animation: shake 0.82s cubic-bezier(.36, .07, .19, .97);
        }

        @-webkit-keyframes shake {

            10%,
            90% {
                -webkit-transform: translate3d(-1px, 0, 0);
            }

            20%,
            80% {
                -webkit-transform: translate3d(2px, 0, 0);
            }

            30%,
            50%,
            70% {
                -webkit-transform: translate3d(-4px, 0, 0);
            }

            40%,
            60% {
                -webkit-transform: translate3d(4px, 0, 0);
            }
        }

        @keyframes shake {

            10%,
            90% {
                transform: translate3d(-1px, 0, 0);
            }

            20%,
            80% {
                transform: translate3d(2px, 0, 0);
            }

            30%,
            50%,
            70% {
                transform: translate3d(-4px, 0, 0);
            }

            40%,
            60% {
                transform: translate3d(4px, 0, 0);
            }
        }

        /* content */
        html,
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        body {
            color: #fff;
            font-size: 17px;
            font-family: "Helvetica Neue", Helvetica, Arial, "Microsoft Yahei UI", "Microsoft YaHei", SimHei, "宋体", simsun, sans-serif;
            background-color: rgba(0, 0, 0, 0.05);
            background-repeat: no-repeat;
            background-attachment: fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            background-position: 50% 50%;
            margin: 0;
            padding: 0;
            -webkit-transition: All 1.2s ease;
            -moz-transition: All 1.2s ease;
            -o-transition: All 1.2s ease;
            -ms-transition: All 1.2s ease;
            transition: All 1.2s ease;
            /* disabled fadeIn animation*/
            /*animation: fadeIn .2s;*/
            /*-moz-animation: fadeIn .2s;*/
            /* Firefox */
            /*-webkit-animation: fadeIn .2s;
            /* Safari 和 Chrome */
            /*-o-animation: fadeIn .2s;*/
            /* Opera */
        }

        a {
            text-decoration: none;
            color: #fff;
            vertical-align: middle;
        }

        a:hover {
            text-decoration: underline;
        }


        #container {
            display: flex;
            width: 100%;
            height: 100%;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: -40px;
        }

        #avatar {
            width: 80px;
            height: 80px;
            border: 2px solid white;
            border-radius: 50%;
            box-shadow: 1px 1px rgba(66, 66, 66, 0.3);
        }

        #avatar:hover {
            box-shadow: 1px 1px 8px 1px whitesmoke;
        }

        #title {
            font-size: 20px;
            font-weight: normal;
            text-shadow: 4px 2px 8px black;
            cursor: pointer;
        }

        #container ul {
            padding: 18px;
            position: relative;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            background: rgba(255, 255, 255, 0.3);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 3px 3px 6px 3px rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        #container li {
            z-index: 1;
            width: 60px;
            height: 60px;
            padding: 10px;
        }

        #container li:hover i {
            -moz-transform: scale(1.2);
            -webkit-transform: scale(1.2);
            transform: scale(1.2);
        }

        #container li i {
            font-size: 35px;
            -webkit-transition: all 0.3s;
            -moz-transition: all 0.3s;
            -o-transition: all 0.3s;
            -ms-transition: all 0.3s;
            transition: all 0.3s;
        }

        #container li a {
            height: 100%;
            font-size: 13px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            -webkit-transition: color .25s ease-out .1s;
            -moz-transition: color .25s ease-out .1s;
            -o-transition: color .25s ease-out .1s;
            -ms-transition: color .25s ease-out .1s;
            transition: color .25s ease-out .1s;
            text-shadow: 2px 2px 4px #00000070
        }

        #container li a:hover {
            text-shadow: 4px 2px 8px #333;
            text-decoration: none;
        }

        #footer {
            font-size: 10px;
            position: absolute;
            bottom: 5px;
        }

        #footer>* {
            opacity: .9;
        }

        #copyright {
            margin: 0 5px;
        }

        #footer a:hover {
            opacity: .8;
        }

        @media (max-width: 900px) {
            #container ul {
                width: 300px;
            }
        }

        @media (max-width: 380px) {
            #container ul {
                width: 240px;
            }
        }

        @media (max-width: 300px) {
            #container ul {
                width: 200px;
            }
        }

        #float-btns {
            width: 50px;
            height: 50px;
            position: absolute;
            transition: none;
        }

        .float-btn {
            position: absolute;
            transition: all .3s;
        }

        .float-btn a {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            background-color: #0C9;
            border-radius: 50px;
            box-shadow: 2px 2px 3px #333;
            text-decoration: none;
        }

        .float-btn i {
            font-size: 22px;
        }
    </style>
</head>

<body>
    <div id="container">
        <img id="avatar" src="./favicon.jpg" />
        <h1 id="title" title="不积跬步无以至千里,不积小流无以成江海"><span id="typed">Holmofy</span></h1>
        <ul id="links">
            <li>
                <a id="blog" href="https://blog.hufeifei.cn" title="千里始足下 高山起微尘">
                    <i class="iconfont ic-blog"></i><span>Blog</span>
                </a>
            </li>
            <li>
                <a id="favorites" href="https://posts.hufeifei.cn" title="见贤思齐 不贤自省">
                    <i class="iconfont ic-favorites"></i><span>Favorites</span>
                </a>
            </li>
            <li>
                <a id="csdn" href="http://blog.csdn.net/holmofy" title="但行好事 莫问前程">
                    <i class="iconfont ic-csdn"></i><span>CSDN</span>
                </a>
            </li>
            <li>
                <a id="github" href="https://github.com/holmofy" title="乘风破浪会有事 直挂云帆济沧海">
                    <i class="iconfont ic-github"></i><span>Github</span>
                </a>
            </li>
            <li>
                <a id="wechat" href="https://www.hufeifei.cn/wechat.html" title="人生到处知何似 应似飞鸿踏雪泥">
                    <i class="iconfont ic-wechat"></i><span>Wechat</span>
                </a>
            </li>
            <li>
                <a id="douban" href="https://www.douban.com/people/holmofy/" title="日拱一卒 功不唐捐">
                    <i class="iconfont ic-douban"></i><span>Douban</span>
                </a>
            </li>
            <li>
                <a id="zhihu" href="https://www.zhihu.com/people/holmofy" title="不积硅步无以至千里，不积小流无以成江海">
                    <i class="iconfont ic-zhihu"></i><span>Zhihu</span>
                </a>
            </li>
        </ul>
        <div id="footer">
            <a href="https://beian.miit.gov.cn/"> 赣ICP备17009276号 </a>
            <span id="copyright">&copy; 2016 - 2018 </span>
            <a href="http://www.hufeifei.cn/resume.html" title="点我查看简历"> power by 胡飞飞 </a>
        </div>
    </div>
    <div id="float-btns" draggable>
        <div id="matrix" class="float-btn">
            <a href="#"><i class="iconfont ic-matrix"></i></a>
        </div>
        <div id="gallery" class="float-btn">
            <a href="#"><i class="iconfont ic-gallery"></i></a>
        </div>
        <div id="theme" class="float-btn">
            <a href="javascript:void(0)"><i class="iconfont ic-theme"></i></a>
        </div>
    </div>
    <script>
        window.Matrix = (function (options) {
            options = Object.assign({
                chars: "_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
                fullScreen: true,
                backgroundColor: "rgba(0, 0, 0, 0.05)",
                fontSize: 10,
                fontColor: "#0F0",
                randomFontSize: true,
                randomMin: 0.7,
                randomMax: 1.4
            }, options);
            var c = document.createElement('canvas');
            c.style.transition = 'All 1.2s ease';
            c.style.zIndex = -1;
            c.style.position = 'absolute';
            c.style.top = 0;
            document.body.appendChild(c);
            var ctx = c.getContext("2d");

            if (options.fullScreen) {
                c.height = window.innerHeight;
                c.width = window.innerWidth;
            }

            var chars = options.chars.split("");

            var fontSize = options.fontSize;
            var columns = c.width / fontSize; // 字符雨列数
            var drops = []; // 每一列下落的位置(在y轴方向)
            for (var x = 0; x < columns; x++)
                drops[x] = 1;

            window.addEventListener("resize", function (event) {
                c.height = window.innerHeight;
                c.width = window.innerWidth;
                columns = c.width / fontSize;
                for (var x = 0; x < columns; x++)
                    drops[x] = 1;
            })

            function getRandomArbitrary(min, max) {
                return Math.random() * (max - min) + min;
            }

            function draw() {
                ctx.fillStyle = options.backgroundColor;
                ctx.fillRect(0, 0, c.width, c.height);

                ctx.fillStyle = options.fontColor;
                var computeFontSize = options.randomFontSize ?
                    getRandomArbitrary(fontSize * options.randomMin, fontSize * options.randomMax) : fontSize;
                ctx.font = computeFontSize + "px arial";
                //looping over drops
                for (var i = 0; i < drops.length; i++) {
                    var text = chars[Math.floor(Math.random() * chars.length)]; // 随机字符
                    //x = i*font_size, y = value of drops[i]*font_size
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                    // 越界随机重新下落
                    if (drops[i] * fontSize > c.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }

                    drops[i]++; // 下落(y轴加一)
                }
            }

            var timer;

            function toggle() {
                timer = timer ? clearInterval(timer) : setInterval(draw, 33);
            }

            function show() {
                document.head.getElementsByTagName('meta')
                    .namedItem('theme-color').content = 'black';
                c.style.opacity = '1';
                if (timer === undefined) {
                    timer = setInterval(draw, 33);
                }
            }

            function hide() {
                c.style.opacity = '0';
                if (timer) {
                    timer = clearInterval(timer);
                }
            }

            return {
                toggle,
                options,
                canvas: c,
                timer,
                show,
                hide,
                stop
            };
        });

        window.Gallery = (function () {
            var picIds = [
                1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25,
                26, 27, 28, 29, 30, 31, 32, 33, 35, 37, 38, 41, 42, 43, 44, 45, 46, 48, 49, 51, 52, 53, 54,
                55, 56, 57, 58, 59, 61, 62, 64, 65, 67, 68, 69, 70, 72, 73, 74, 112, 113, 115, 116, 117,
                118, 119, 120, 121, 122, 123, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136,
                137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 163, 164, 165, 166,
                167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184,
                185, 186, 822, 823, 824, 825, 826
            ];

            function randomInt(x) {
                return Math.floor(Math.random() * x);
            }

            function geneImgUrl() {
                if (Math.random() < 0.1) {
                    // 自带的220张图片
                    return "url(image/" + randomInt(220) + ".jpg)";
                } else {
                    // 百度首页背景图片，自带CDN
                    return "url(https://dss3.bdstatic.com/iPoZeXSm1A5BphGlnYG/skin/" + picIds[randomInt(picIds
                        .length)] + ".jpg)";
                }
            }

            // 让浏览器进行预加载,优化图片切换
            var nextImg = document.createElement('span');
            document.body.append(nextImg);
            nextImg.style.width = 0;
            nextImg.style.height = 0;
            nextImg.style.opacity = 0;
            nextImg.style.backgroundImage = geneImgUrl();

            function change() {
                document.head.getElementsByTagName('meta')
                    .namedItem('theme-color').content = '#c5e2ef30';
                document.body.style.backgroundImage = nextImg.style.backgroundImage;
                nextImg.style.backgroundImage = geneImgUrl();
            }

            var timer;

            function toggle() {
                timer = timer ? clearInterval(timer) : setInterval(change, 5000);
            }

            function stop() {
                if (timer) {
                    timer = clearInterval(timer);
                }
            }

            return {
                toggle,
                timer,
                change,
                stop
            };
        });

        window.Draggable = (function (element, target) {
            element.style.position = 'absolute';
            target = target || element;
            var supportTouch = 'ontouchend' in document;
            var supportDrag = 'ondragend' in document;
            document.addEventListener("dragover", function (event) {
                event.preventDefault();
            }, false);
            // 禁止页面滚动
            document.body.addEventListener('touchmove', (e) => {
                e.preventDefault();
            }, {
                passive: false
            });

            function getWidth() {
                return Number(getComputedStyle(element).width.replace('px', ''));
            }

            function getHeight() {
                return Number(getComputedStyle(element).height.replace('px', ''));
            }

            function getTouchHandler(callback) {
                return function (e) {
                    if (e.path.includes(target)) {
                        e = e.originalEvent || e; // ios 兼容
                        callback(e.touches[0] || e.changedTouches[0]);
                    }
                }
            }

            function getDragHandler(callback) {
                return function (e) {
                    if (e.path.includes(target)) {
                        callback(e);
                    }
                }
            }

            function onDrag(callback) {
                if ('function' !== typeof callback) return;
                supportDrag && element.addEventListener('drag', getDragHandler(callback));
                supportTouch && element.addEventListener('touchmove', getTouchHandler(callback));
            }

            function onDragStart(callback) {
                if ('function' !== typeof callback) return;
                supportDrag && element.addEventListener('dragstart', getDragHandler(callback));
                supportTouch && element.addEventListener('touchstart', getTouchHandler(callback));
            }

            function onDragEnd(callback) {
                if ('function' !== typeof callback) return;
                supportDrag && element.addEventListener('dragend', getDragHandler(callback));
                supportTouch && element.addEventListener('touchend', getTouchHandler(callback));
            }

            onDrag(function (e) {
                var width = getWidth();
                var height = getHeight();
                element.style.left = (e.clientX - width / 2) + 'px';
                element.style.top = (e.clientY - height / 2) + 'px';
            });
            return {
                onDrag,
                onDragStart,
                onDragEnd,
                getWidth,
                getHeight,
                element
            };
        });

        window.StickyDraggable = function (element, target, stickyOptions) {
            var draggable = Draggable(element, target);
            var options = Object.assign({
                x: true,
                y: true,
                paddingX: 40,
                paddingY: 40
            }, stickyOptions);

            function stick(x, y) {
                if (options.x) {
                    stickX(x);
                } else {
                    var width = draggable.getWidth();
                    element.style.left = (x - width / 2) + 'px';
                }
                if (options.y) {
                    stickY(y);
                } else {
                    var height = draggable.getHeight();
                    element.style.top = (y - height / 2) + 'px';
                }
            }

            function stickX(x) {
                var width = draggable.getWidth();
                if (x < window.innerWidth / 2) {
                    element.style.left = (options.paddingX - width / 2) + 'px';
                } else {
                    element.style.left = (window.innerWidth - width / 2 - options.paddingX) + 'px';
                }
            }

            function stickY(y) {
                var height = draggable.getHeight();
                if (y < window.innerHeight / 2) {
                    element.style.top = (options.paddingY - height / 2) + 'px';
                } else {
                    element.style.top = (window.innerHeight - height / 2 - options.paddingY) + 'px';
                }
            }

            draggable.onDragEnd(function (e) {
                stick(e.clientX, e.clientY);
            });
            return Object.assign(draggable, {
                stick,
                stickX,
                stickY
            });
        };

        (function () {
            document.getElementById("copyright").innerHTML = "&copy; 2016 - " + new Date().getFullYear();
            console.log('%c 我的简历：https://www.hufeifei.cn/resume.html ',
                'background: #33CED6; color: #FA827F; font-size:20px;');

            var typed = new Typed('#typed', {
                strings: ["", "日拱一卒，功不唐捐", "Stay foolish, stay hungry!", "Holmofy"],
                typeSpeed: 30,
                startDelay: 1000,
                loop: true
            });

            // 矩阵主题和图片画廊主题切换效果
            window.$matrix = Matrix();
            window.$gallery = Gallery();

            var theme = localStorage.getItem("theme") || 'gallery';
            if (theme == 'matrix') {
                $matrix.show();
            } else {
                $gallery.toggle()
                document.body.style.backgroundImage = "url('image/77.jpg')";
            }

            document.getElementById("matrix").onclick = function () {
                theme = 'matrix';
                localStorage.setItem("theme", theme);
                $matrix.show();
                $gallery.stop();
            };
            document.getElementById("gallery").onclick = function () {
                theme = 'gallery';
                localStorage.setItem("theme", theme);
                $matrix.hide();
                $gallery.change();
                $gallery.toggle();
            };
            document.getElementById("title").onclick = function () {
                if (theme === 'matrix') {
                    $matrix.toggle();
                }
                if (theme === 'gallery') {
                    $gallery.change();
                }
            }
            var themeToggle = false;
            document.getElementById("theme").onclick = function (event) {
                var curr = event.currentTarget;
                var sibling = curr.parentElement.children;
                if (themeToggle) {
                    for (var i = 0; i < sibling.length; ++i) {
                        sibling[i].style.transform = '';
                    }
                    curr.querySelector('.iconfont').classList.replace('ic-close', 'ic-theme');
                } else {
                    for (var i = 0; i < sibling.length; ++i) {
                        sibling[i].style.transform = 'translateY(' + (i * 60 - 120) + 'px)';
                    }
                    curr.querySelector('.iconfont').classList.replace('ic-theme', 'ic-close');
                }
                themeToggle = !themeToggle;
            }

            // 浮动按钮拖动效果
            var themeElement = document.getElementById("theme");
            var floatBtn = document.getElementById("float-btns");
            var stickyDraggable = StickyDraggable(floatBtn, themeElement, {
                x: true,
                y: false
            });
            var xPercent = localStorage.getItem('floatBtn.xPercent');
            var yPercent = localStorage.getItem('floatBtn.yPercent');
            stickyDraggable.onDragEnd(function (e) {
                var left = Number(getComputedStyle(floatBtn).left.replace('px', ''));
                var top = Number(getComputedStyle(floatBtn).top.replace('px', ''));
                xPercent = left / window.innerWidth;
                yPercent = top / window.innerHeight;
                localStorage.setItem('floatBtn.xPercent', xPercent);
                localStorage.setItem('floatBtn.yPercent', yPercent);
            })

            var width = stickyDraggable.getWidth();
            var height = stickyDraggable.getWidth();
            if (!xPercent && !yPercent) {
                floatBtn.style.left = (window.innerWidth - width / 2 - 40) + 'px';
                floatBtn.style.top = (window.innerHeight - height / 2 - 60) + 'px';
            } else {
                var x = window.innerWidth * Number(xPercent) + width / 2;
                var y = window.innerHeight * Number(yPercent) + height / 2;
                stickyDraggable.stick(x, y);
            }
            window.addEventListener("resize", function () {
                var x = window.innerWidth * Number(xPercent) + width / 2;
                var y = window.innerHeight * Number(yPercent) + height / 2;
                stickyDraggable.stick(x, y);
            })
        })();

        (function () {
            // 文件夹效果
            if (window.innerWidth < 520) {
                var avatar = document.getElementById('avatar');
                var title = document.getElementById('title');
                var links = document.getElementById('links');
                avatar.style.transition = 'transform .3s';
                title.style.transition = 'transform .3s';
                links.style.transition = 'transform .3s';

                function showElement(e) {
                    e.style.transform = 'scale(1)';
                    e.style.opacity = 1;
                    e.style.height = '';
                }

                function hiddenElement(e) {
                    e.style.transform = 'scale(0)';
                    e.style.opacity = 0;
                    e.style.height = 0;
                }

                hiddenElement(links);
                avatar.onclick = function () {
                    showElement(links);
                    hiddenElement(avatar);
                    hiddenElement(title);
                };
                document.body.onclick = function (e) {
                    if (e.target != avatar && e.target != links) {
                        hiddenElement(links);
                        showElement(avatar);
                        showElement(title);
                    }
                };
            } else {
                document.getElementById('avatar').onclick = function () {
                    var links = document.getElementById('links');
                    links.classList.add('shake');
                    setTimeout(function () {
                        links.classList.remove('shake');
                    }, 1000);
                }
            }
        })();
    </script>
</body>

</html>